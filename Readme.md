#实现标题分类

##一、[提取信息基本思路记载](./document/fenci.md)
 1. 获取所有照片标题+路径（即含有有效信息的数据）和系统内的对应编号   
    - ```如 Z:\yuexun\2016图编外拍\李晓尹\李晓尹-中国-2016年8月26日-月讯爱国主义教育\李晓尹-中国-2016年8月26日-月讯爱国主义教育9.jpg --> 00000119.jpg```
 2. 对数据标题进行简单的处理，以'/'划分为字符串，过滤掉空格、连字符等特殊符号
    - ```['Z:', 'yuexun', '2016图编外拍', '李晓尹', '李晓尹 中国 2016年11月18日 美丽乡村顺义马坡镇南卷村', '美丽乡村顺义马坡镇南卷村村委会供图', '李晓尹 中国 2016年11月18日 美丽乡村顺义马坡镇南卷村1.jpg   '] ```
 3. 提取编号（直接通过字符串切分实现）
    - ```00000119.jpg```
 4. 提取一级标题（通过列表）  
    - ```2016图片外编```
 5. 提取标题中出现的时间  
    - ```2016 11 18```
 6. 提取摄影师和摄影师国籍、拍摄地信息  
    - 将标题通过百度seg分词后对划分的词汇分别与导入的姓名库、国家和地区库、风景名胜库进行比对，若存在则提取成功，若失败则进行第二次提取
    - 对姓名和地点提取失败的数据，通过词性标注的方法获取数据，其中”PER“代表人名，“LOC”带代表地名，“ORG”为机构  
 7. 提取结果的格式
    ```
        照片编号       数据来源     年     月   日  摄影师   国家信息      照片中出现的地点                              关键词列表
    00000001.jpg	2016图编外拍	2016	11	18	李晓尹	  ['中国']	   ['顺义', '马坡镇', '美丽乡村', '南卷村村委会']	  ['顺义', '马坡镇', '美丽乡村', '南卷村村委会']
    00000011.jpg	2016图编外拍	2016	01	14	李晓尹	['中国']	['王府井']	['游客', '造型', '合影留念', '王府井猴年']	
    00000012.jpg	2016图编外拍	2016	01	14	李晓尹	['中国']	['王府井']	['造型', '王府井猴年']	
    00000039.jpg	2016图编外拍	2016	01	19	李晓尹	['中国']	['国务院参事室']	['肖像', '国务院参事室']	
    00000062.jpg	2016图编外拍	2016	06	5	李晓尹	['中国']	[]	['合影', '妻子', '菜叔', '境外']	
    00000169.JPG	2016图编外拍	2016	03	23	桑浥	['中国']	[]	['踩点', '奇石馆']	
    00000303.JPG	2016图编外拍	2016	04	21	桑浥	['中国']	[]	['签约', '电影节', '第六届']	
    00006450.jpg	2016外国摄影师拍北京	2016	05	25	温布托･马约尔	['中国']	['大兴']	['商场', '购物', '荟聚', '大兴']	
    00013957.JPG	2018一带一路摄影师拍北京 最终发回成片	2018	05	07	若尔特•奥拉夫•萨默迪	['匈牙利']	['十八景 大运河森林公园']	['开幕式', '十八景', '大运河森林公园']	
    00017257.jpg	2014年外国摄影师拍北京 643张	2014	05	27	吉尔斯·萨布里埃	['法国']	['中国科技馆']	['中国科技馆']
    00024882.jpg	2018图编外拍 2	2018	12	12	王梓川	['中国']	[]	['培训', '外宣办']
    ```
***提取结果：*** 
 ```
        年份为空的数据个数:0
        月份为空的数据个数:2580
        日期为空的数据个数:6041
        摄影师为空的数据个数:63
        国家为空的数据个数:0 (默认为'中国')
        拍摄地点为空的数据个数:17506
        关键字为空的数据个数:522
 ```
     共35691条数据，耗时11.37058秒
#二、<a name='数据分类'>[数据分类](./document/classify.md)</a>
  1. 统计一级标题  
        ``` 
            一级标签（共15个一级标签）：  
                2014年外国摄影师拍北京
                2015年外国摄影师拍北京
                2016图编外拍
                2016外国摄影师拍北京
                2017希腊摄影师拍北京
                2017年外拍
                2018一带一路摄影师拍北京
                2018图编外拍
                2018图编外拍 2
                2018外拍
                2019图编外拍
                友协
                摄影师投稿作品
                航拍挑图
                航拍（改） 常旭 
        ```  
   2. 统计不同的国家（默认拍摄地为中国）    
        ```
        摄影师国籍分类: 共98个国家
            中美:  古巴   格林纳达   
            北美:  加拿大   墨西哥   美国   
            东亚:  日本   蒙古   韩国   朝鲜   中国   
            大洋洲:  瓦努阿图   斐济   萨摩亚   密克罗尼西亚   新西兰   
            西非:  尼日利亚   尼日   贝宁   科特迪瓦   几内亚   乍得   加纳   
            东非:  乌干达   布隆迪   埃塞俄比亚   肯尼亚   卢旺达   
            南美:  阿根廷   玻利维亚   智利   厄瓜多尔   哥伦比亚   秘鲁   圭亚那   乌拉圭   巴西   
            东欧:  乌克兰   俄罗斯   拉脱维亚   立陶宛   白俄罗斯   
            南非:  津巴布韦   南非   莫桑比克   
            西欧:  比利时   法国   英国   荷兰   
            中亚:  吉尔吉斯斯坦   土库曼斯坦   哈萨克斯坦   乌兹别克斯坦   
            东南亚:  菲律宾   老挝   印度尼西亚   泰国   缅甸   越南   马来西亚   柬埔寨   新加坡   
            中欧:  德国   捷克   波兰   斯洛伐克   匈牙利   奥地利   
            南亚:  尼泊尔   斯里兰卡   印度   巴基斯坦   
            中非:  加蓬   喀麦隆   赤道几内亚   
            南欧:  希腊   克罗地亚   保加利亚   意大利   葡萄牙   马其顿   斯洛文尼亚   西班牙   塞尔维亚   罗马尼亚   黑山   
            西亚:  伊拉克   阿富汗   卡塔尔   亚美尼亚   以色列   伊朗   土耳其   格鲁吉亚   
            北非:  阿尔及利亚   摩洛哥   埃及   苏丹   利比亚   
        ```
  3. 时间数据分类  
        ```
        由于存在很多照片没有具体到日，故分类标准不精确到日
        2008年的照片共5张
            09月份的照片共2张
            10月份的照片共3张
        2009年的照片共9张
            04月份的照片共2张
            05月份的照片共2张
            07月份的照片共1张
            09月份的照片共3张
            11月份的照片共1张
        ……
        2019年的照片共485张
            01月份的照片共184张
            07月份的照片共1张
            12月份的照片共265张
            None月份的照片共35张
        ```
  4. 主题词数据  
        ```
        出现次数在50次以上的数据有273条:(['关键词', '出现的次数'])
             ['开幕式', 3248]    ['冰壶', 3170]    ['炫彩世界', 3668]    ['文博会', 2751]    ['电影节', 2868]    ['闭幕', 2140]    ['红毯', 2140]    ['胡同', 2075]    ['手绘', 2050]    ['京城', 2046]    ['北海', 2014]    ['北京', 1663]    ['外国', 1354]    ['完稿', 1199]    ['眼中', 1102]    ['国家会议中心', 1227]    ['友人', 1029]    ['一带一路', 1177]    ['仪式', 998]    ['颁奖', 960]    ['北京市', 843]    ['培训', 821]    ['和谐', 654]    ['手机', 639]    ['拍摄', 599]    ['故宫', 442]    ['高峰峰论坛', 434]    ['喜剧', 433]    ['摄影师', 741]    ['活动', 423]    ['外国人', 416]    ['主飞', 400]    ['友协画册', 521]    ['吴俊', 383]    ['杨东风', 378]    ['外宣办', 364]    ['友协画册 十年回顾', 486]    ['怀柔', 359]    ['沙龙', 347]    ['师傅', 347]    ['中国梦', 336]    ['百姓', 334]    ['丝路大', 328]    ['最终', 316]    ['眼中的美丽北京', 338]    ['颐和园', 304]    ['北京月讯杂志社', 341]    ['签约', 295]    ['第六届', 295]    ['十月书店', 310]    ['密云', 270]    ['驻华', 251]    ['司马台长城', 264]    ['挑调', 248]    ['副中心', 248]    ['首都机场', 278]    ['校园', 228]    ['建设', 224]    ['选出', 220]    ['环线', 219]    ['北京农业嘉年华', 379]    ['中轴线', 212]    ['古北水镇', 210]    ['刘倩', 202]    ['门头沟区少年宫', 407]    ['社团', 199]    ['成果', 199]    ['大运河', 200]    ['张小画', 197]    ['西城区', 198]    ['故宫博物院', 194]    ['三环路', 193]    ['工作', 191]    ['北苑', 187]    ['摊位', 186]    ['旅游', 182]    ['成片', 182]    ['第一组', 304]    ['新闻', 181]    ['发言人', 181]    ['五环线', 178]    ['吴佳海', 177]    ['六环路', 176]    ['美术馆', 175]    ['崔国栋', 174]    ['月坛星月艺术团', 203]    ['天津滨海新区', 173]    ['表演', 171]    ['雁栖湖', 164]    ['平谷线', 208]    ['百名', 150]    ['图片展', 146]    ['精品展', 144]    ['油画', 144]    ['戏曲', 143]    ['金山岭', 141]    ['机长', 134]    ['使馆', 134]    ['中山公园', 132]    ['汤河口', 130]    ['慕田峪长城', 148]    ['潭柘寺', 129]    ['广场舞', 143]    ['怀柔密云司马台', 131]    ['牛街', 126]    ['五塔寺', 126]    ['天坛', 125]    ['香山寺', 175]    ['密云水库', 142]    ['朝阳公园', 139]    ['妙峰山', 117]    ['史家小学分校', 152]    ['摄于', 114]    ['教育', 113]    ['展位', 113]    ['目的地', 112]    ['漫画', 112]    ['文物', 112]    ['推介', 112]    ['北京国际摄影周', 231]    ['见心斋', 111]    ['改革开放展', 182]    ['劳模', 111]    ['维利查卡•尤里', 134]    ['首博', 108]    ['金秋', 108]    ['亲历', 108]    ['过大', 107]    ['大年', 107]    ['调色', 106]    ['服装秀', 147]    ['延庆', 102]    ['绽放', 101]    ['回眸', 101]    ['直播', 98]    ['招待会', 96]    ['戒台寺', 96]    ['使节', 96]    ['舞龙', 94]    ['胡里奥', 94]    ['最佳', 94]    ['密云区', 94]    ['什刹海', 93]    ['大会', 92]    ['十三陵', 91]    ['开拍', 90]    ['展览', 90]    ['国家大剧院', 88]    ['一把手', 86]    ['那迪', 85]    ['旗袍', 85]    ['塞克雷·高', 127]    ['皇冠海', 84]    ['百花山', 83]    ['市场', 83]    ['庙会', 82]    ['红桥', 81]    ['朝阳区', 100]    ['拉格雷兹', 81]    ['青少年冰雪运动会', 237]    ['菲利普交图', 80]    ['胡科摄影', 80]    ['中关村', 80]    ['风雷京剧团', 161]    ['清华', 79]    ['参观', 79]    ['亲历大北京', 79]    ['雁栖塔', 77]    ['西山国家森林公园', 80]    ['传统', 77]    ['丫吉山', 77]    ['非遗', 75]    ['通州会议中心', 213]    ['春花', 75]    ['微访谈', 75]    ['顺义区仁和镇河南村中心小学', 187]    ['踩点', 74]    ['奇石馆', 74]    ['器乐', 74]    ['琉璃厂', 80]    ['潘托哈', 73]    ['郎园', 72]    ['第五届', 72]    ['文化', 72]    ['提供', 72]    ['书房', 72]    ['采访', 71]    ['沿线', 71]    ['云居寺', 71]    ['崇礼', 70]    ['中国舞', 69]    ['乔治多帕斯', 72]    ['地坛', 67]    ['全尺寸', 127]    ['三里屯', 67]    ['演奏', 66]    ['太古里', 66]    ['展区', 65]    ['将军', 65]    ['海淀', 64]    ['天安门', 64]    ['劳动者', 117]    ['内蒙古', 64]    ['大辽五京', 63]    ['出土', 63]    ['作品', 63]    ['欢乐谷', 62]    ['南京', 62]    ['杨梅竹', 61]    ['丫髻山', 61]    ['黄永强', 60]    ['金钥匙', 60]    ['前门大街', 80]    ['军博科技周', 114]    ['乔治･多帕斯', 63]    ['景山', 58]    ['花丝', 57]    ['古北口长城', 81]    ['八大处', 57]    ['中国美术馆', 57]    ['昌平区', 83]    ['周口', 56]    ['凤凰岭', 56]    ['工作室', 55]    ['化妆', 55]    ['春天', 54]    ['昆尼学校', 63]    ['环第二卡', 53]    ['房山', 53]    ['宋庄', 53]    ['镶嵌', 52]    ['北京展', 52]    ['体验', 52]    ['工作照', 51]    ['史家小学分校京剧', 88]    ['北大', 51]    ['东五环路', 51]    ['清华大学', 52]    ['蓝色港湾', 52]    ['国贸三', 67]    ['北京新机场', 90]    ['宋庄艺术区', 64]    ['奥林匹克森林公园', 62]    ['招商局大厦', 62]    ['北京人遗址博物馆', 103]    ['桃花节', 61]    ['西颐小学', 64]    ['创业大街', 68]    ['新媒体产业基地星光影视园', 74]    ['哈工大机器人', 53]    ['亦庄创意生活广场', 77]    ['创业博物馆', 64]    ['艺术展', 51]    ['三里屯通盈中心', 79]    ['北京服装学院', 57]    ['中国科技馆', 95]    ['王府井猴年', 62]    ['人生若只如初见', 77]    ['月坛星月艺术团舞蹈', 52]    
       ```
   
   5. 地点分类
       ```
        出现次数在30次以上的数据共140条：
        ['北京', 2234]  ['北海', 2020]  ['友协', 858]  ['北京市', 710]  ['故宫', 642]  ['高峰峰', 433]  ['怀柔', 398]  ['颐和园', 368]  ['门头沟区', 315]  ['司马台长城', 296]  ['古北水镇', 210]  ['西城区', 194]  ['炫彩世界 月坛星月艺术团', 244]  ['三环路', 193]  ['雁栖湖', 189]  ['北苑', 187]  ['六环路', 176]  ['香山', 169]  ['天津滨海新区', 219]  ['天坛', 161]  ['大运河', 160]  ['通州', 151]  ['平谷', 149]  ['慕田峪长城', 188]  ['北京月讯杂志社', 134]  ['中山公园', 133]  ['潭柘寺', 131]  ['史家小学分校', 129]  ['牛街', 126]  ['五塔寺', 126]  ['十三陵', 122]  ['香山寺', 121]  ['密云水库', 224]  ['朝阳公园', 120]  ['戒台寺', 119]  ['见心斋', 111]  ['宋庄', 110]  ['朝阳区', 109]  ['中关村', 99]  ['什刹海', 93]  ['崇礼', 87]  ['首都机场', 86]  ['皇冠海', 84]  ['百花山', 83]  ['北京市 胡科摄影', 80]  ['风雷京剧团', 79]  ['清华', 79]  ['雁栖塔', 78]  ['金山岭', 77]  ['海淀', 77]  ['怀柔密云司马台', 76]  ['琉璃厂', 74]  ['炫彩世界 顺义区仁和镇河南村中心小学', 186]  ['景山', 74]  ['昌平区', 112]  ['郎园', 72]  ['云居寺', 71]  ['房山', 70]  ['延庆', 70]  ['地坛', 70]  ['石景山', 69]  ['周口', 68]  ['三里屯', 67]  ['汤河口', 66]  ['太古里', 66]  ['天安门', 65]  ['国家会议中心', 64]  ['内蒙古', 64]  ['红桥', 62]  ['欢乐谷', 62]  ['南京', 62]  ['凤凰岭', 61]  ['王府井', 60]  ['军博科技周', 60]  ['居庸关', 59]  ['圆明园', 58]  ['古北口长城', 110]  ['中国美术馆', 57]  ['昆尼学校', 54]  ['前门大街', 52]  ['北大', 51]  ['东五环路', 51]  ['蓝色港湾', 49]  ['清华大学', 49]  ['房山文保所', 49]  ['恭王府', 49]  ['奥林匹克森林公园', 49]  ['北京 解放军歌剧院', 48]  ['海淀舞蹈家协会', 47]  ['北京人遗址博物馆', 45]  ['国子监', 44]  ['北关大道', 44]  ['北京大学', 43]  ['京信大厦', 43]  ['都山', 42]  ['西颐小学', 42]  ['美院', 42]  ['大峪一小', 42]  ['红螺寺', 41]  ['北五环路', 41]  ['司马台村', 40]  ['法源寺', 39]  ['故宫咖啡馆', 39]  ['北京理工大学', 38]  ['佛香阁', 38]  ['潞河中学 史家小学分校', 37]  ['密云区', 37]  ['国家博物馆', 37]  ['哈工大', 37]  ['南锣鼓巷', 37]  ['亦庄创意生活广场 新媒体产业基地星光影视园', 37]  ['郎家园', 36]  ['密云机场', 36]  ['团城', 36]  ['南礼士路', 36]  ['南沙窝桥', 36]  ['鸟巢', 35]  ['玉渊潭', 35]  ['天云山', 35]  ['创业大街 创业博物馆', 35]  ['五彩浅山', 35]  ['雍和宫', 34]  ['石花洞', 34]  ['拉菲特城堡酒店', 34]  ['夏荆山', 34]  ['京加路', 34]  ['辽金城垣博物馆', 33]  ['碧云寺', 33]  ['成贤街', 33]  ['北京服装学院', 33]  ['北京方志馆', 33]  ['侨福芳草地', 33]  ['国家图书馆', 32]  ['中国科技馆', 32]  ['首都博物馆', 31]  ['青龙峡', 31]  ['秦唐府七号院', 31]  ['海淀区', 31]  ['挂甲峪', 31]  ['南五环路', 31]  
       ```
 #三、和系统结合的思路
   1. 先将相关信息导入系统  
       ```
       数据格式如下
            照片编号       数据来源     年     月   日  摄影师   国家信息      照片中出现的地点                              关键词列表
        00000001.jpg	2016图编外拍	2016	11	18	李晓尹	  ['中国']	   ['顺义', '马坡镇', '美丽乡村', '南卷村村委会']	  ['顺义', '马坡镇', '美丽乡村', '南卷村村委会']
       ```
   2. 创建分类  
    根据<a href='#数据分类'>二、数据分类</a>的结果分类进行分类。  
        - 一级标题分类  
        - 日期分类  
        - 国家分类  
        - 事件分类  
        - 地点分类    
  3. 存在的问题  
        - 事件中的层级划分
  4. 解决方案  
    ① 先将关键词等导入系统，事件分类和地点分类可以选择依据分类结果直接创建，后通过人工审查去除不具有实际意义的分类     
    ② 先将关键词等导入系统，且先创建一级标题分类、日期分类、国家分类，但事件分类和地点分类手动添加（关键事件词270，其中有一些不具有实际意义或具有层级关系），
    地点分类也通过手动添加（140）
    
 #四、系统的适用性
  1. 词库  
        - 国家和地区词库（通用）——用于识别国家和地区
        - 摄影师姓名词库（可由客户提供，对不存在的姓名也可通过系统自动识别(有一定误差)） —— 用于识别姓名
        - 中国风景名胜词库（通用）—— 确定照片中的地点，针对不存在的地点再由系统识别
        - 停用词（通用，且可针对当前情况进行增改）—— 去除标题中无用的词或字或符号
  2. 数据提取  
        - 日期提取具有通用性
        - 对地点、机构、关键词都可以提取